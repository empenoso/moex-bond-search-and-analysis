# üïµÔ∏è –ü–æ–∏—Å–∫ –ª–∏–∫–≤–∏–¥–Ω—ã—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π –ú–æ—Å–±–∏—Ä–∂–∏ –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º üïµÔ∏è
#
# –≠—Ç–æ—Ç Python —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –æ–±–ª–∏–≥–∞—Ü–∏–π, —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏—Ö –∑–∞–¥–∞–Ω–Ω—ã–º
# –∫—Ä–∏—Ç–µ—Ä–∏—è–º –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏, —Ü–µ–Ω—ã, –¥—é—Ä–∞—Ü–∏–∏ –∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è API –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏.
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞, –≤–∫–ª—é—á–∞—é—â–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±–ª–∏–≥–∞—Ü–∏—è—Ö –∏ –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π, 
# –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ Excel-—Ñ–∞–π–ª.
#
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º: pip install requests openpyxl humanize 
#
# –ê–≤—Ç–æ—Ä: –ú–∏—Ö–∞–∏–ª –®–∞—Ä–¥–∏–Ω https://shardin.name/
# –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 14.02.2025
# –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è: 14.11.2025
# –í–µ—Ä—Å–∏—è: 1.3
#
# –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –≤—Å–µ–≥–¥–∞ –∑–¥–µ—Å—å: https://github.com/empenoso/moex-bond-search-and-analysis
#

import os
import sys
sys.path.append(f"{os.getcwd()}/src")

from cli import start
from moex_bond_search_and_analysis.schemas import SearchByCriteriaConditions


if __name__ == "__main__":
    # --- –ù–ê–°–¢–†–û–ô–ö–ê –ö–†–ò–¢–ï–†–ò–ï–í –ü–û–ò–°–ö–ê ---
    # –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–±–ª–∏–≥–∞—Ü–∏–π.
    # –ü—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è–π—Ç–µ —Ü–∏—Ñ—Ä—ã –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–î–ê"/"–ù–ï–¢" –Ω–∞ –Ω—É–∂–Ω—ã–µ.
    search_conditions = SearchByCriteriaConditions(
        yield_more=15,          # –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –û–¢, %
        yield_less=40,          # –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –î–û, %
        price_more=70,          # –¶–µ–Ω–∞ –û–¢, % –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞
        price_less=120,         # –¶–µ–Ω–∞ –î–û, % –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞
        duration_more=3,        # –î—é—Ä–∞—Ü–∏—è –û–¢, –º–µ—Å—è—Ü–µ–≤
        duration_less=18,       # –î—é—Ä–∞—Ü–∏—è –î–û, –º–µ—Å—è—Ü–µ–≤
        volume_more=2000,       # –û–±—ä–µ–º —Å–¥–µ–ª–æ–∫ –≤ –∫–∞–∂–¥—ã–π –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 15 –¥–Ω–µ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ, —à—Ç.
        bond_volume_more=60000, # –°–æ–≤–æ–∫—É–ø–Ω—ã–π –æ–±—ä–µ–º —Å–¥–µ–ª–æ–∫ –∑–∞ 15 –¥–Ω–µ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ, —à—Ç.
        offer_yes_no="–î–ê"       # –£—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –∫—É–ø–æ–Ω–∞–º–∏ –¥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è ("–î–ê" –∏–ª–∏ "–ù–ï–¢")
    )
    # --- –ö–û–ù–ï–¶ –ù–ê–°–¢–†–û–ô–ö–ò ---

    start(1, search_conditions=search_conditions)